// Generated by CoffeeScript 1.4.0
(function() {
  var add_category_to_user, category_count, remove_category_from_user;

  category_count = 0;

  $('.loldongs').click(function() {
    var category_id;
    category_id = $(this).attr('categoryid');
    if ($(this).hasClass('selected')) {
      return remove_category_from_user(category_id, $(this));
    } else {
      return add_category_to_user(category_id, $(this));
    }
  });

  add_category_to_user = function(category_id, button) {
    $.ajax("/register/api/users/me/category/" + category_id + "/", {
      type: 'PUT',
      dataType: 'json'
    });
    button.addClass('selected');
    category_count += 1;
    if (category_count > 2) {
      return $('#continue_button').removeAttr('disabled');
    }
  };

  remove_category_from_user = function(category_id, button) {
    $.ajax("/register/api/users/me/category/" + category_id + "/", {
      type: 'DELETE',
      dataType: 'json'
    });
    button.removeClass('selected');
    category_count -= 1;
    if (category_count < 3) {
      return $('#continue_button').attr('disabled', 'disabled');
    }
  };

  $("#continue_button").click(function() {
    return window.location.href = 'after-signup/2';
  });

}).call(this);
