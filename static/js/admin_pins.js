// Generated by CoffeeScript 1.4.0

jQuery(function() {
  $('#search_button').on('click', function(event) {
    var search_data;
    event.preventDefault();
    search_data = {
      'pin_url': $('#pin_url').val(),
      'username': $('#username').val(),
      'name': $('#name').val(),
      'email': $('#email').val(),
      'category': $('#category').val()
    };
    $.ajax({
      data: search_data,
      url: '/admin/pins/search/set_search_criteria',
      success: function() {
        $.pagination_grid.g.load();
      }
    });
  });
  $('.datagrid').on('click', '.edit-pin', function(event) {
    var pinid;
    event.preventDefault();
    event.stopPropagation();
    pinid = $(this).attr('pinid');
    window.location.href = '/admin/pin/' + pinid;
  });
  $('#delete_pin_button').on('click', function(event) {
    var pinid;
    event.preventDefault();
    event.stopPropagation();
    pinid = $(this).attr('pinid');
    $.ajax({
      method: 'delete',
      success: function() {
        window.location.href = '/admin/pins/search';
      }
    });
  });
});
